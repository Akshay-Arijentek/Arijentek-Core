var y=Object.defineProperty,f=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var k=(e,a,t)=>a in e?y(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,l=(e,a)=>{for(var t in a||(a={}))w.call(a,t)&&k(e,t,a[t]);if(h)for(var t of h(a))S.call(a,t)&&k(e,t,a[t]);return e},m=(e,a)=>f(e,v(a));var u=(e,a,t)=>new Promise((r,s)=>{var _=n=>{try{c(t.next(n))}catch(i){s(i)}},p=n=>{try{c(t.throw(n))}catch(i){s(i)}},c=n=>n.done?r(n.value):Promise.resolve(n.value).then(_,p);c((t=t.apply(e,a)).next())});import{u as $}from"./main.js";const A="/api/method";function j(t){return u(this,arguments,function*(e,a={}){const r=$(),s={"Content-Type":"application/json",Accept:"application/json"},_=r.csrfToken||window.csrf_token;_&&a.method&&a.method!=="GET"&&(s["X-Frappe-CSRF-Token"]=_);const p=yield fetch(`${A}/${e}`,m(l({},a),{headers:l(l({},s),a.headers||{}),credentials:"include"}));if(!p.ok){const n=yield p.json().catch(()=>({}));let i="Request failed";if(n._server_messages)try{const d=JSON.parse(n._server_messages);i=JSON.parse(d[0]).message||i}catch(d){}else n.exception&&(i=n.exception);throw new Error(i)}const c=yield p.json();return c.message!==void 0?c.message:c})}function o(e){return j(e,{method:"GET"})}function g(e,a){return j(e,{method:"POST",body:a?JSON.stringify(a):void 0})}const R={getData:()=>o("arijentek_core.api.get_dashboard_data"),getEmployeeInfo:()=>o("arijentek_core.api.get_employee_info"),getReportingInfo:()=>o("arijentek_core.api.get_reporting_info")},x={punch:()=>g("arijentek_core.api.punch"),getTodayCheckin:()=>o("arijentek_core.api.get_today_checkin"),getStatus:()=>o("arijentek_core.api.v1.attendance.get_status"),getSummary:()=>o("arijentek_core.api.get_attendance_summary"),getRecords:(e,a)=>o(`arijentek_core.api.get_attendance_records${e&&a?`?month=${e}&year=${a}`:""}`)},C={getTypes:()=>o("arijentek_core.api.get_leave_types"),getBalance:()=>o("arijentek_core.api.get_leave_balance"),getApplications:()=>o("arijentek_core.api.get_leave_applications"),getHolidays:(e,a,t)=>{const r=[];e&&a&&r.push(`from_date=${e}`,`to_date=${a}`),t&&r.push("exclude_weekly_off=1");const s=r.length?`?${r.join("&")}`:"";return o(`arijentek_core.api.get_holidays${s}`)},apply:e=>g("arijentek_core.api.apply_leave",e),cancel:e=>g("arijentek_core.api.cancel_leave",{leave_application:e})},O={getSlips:()=>o("arijentek_core.api.get_salary_slips"),getDownloadUrl:e=>`/api/method/arijentek_core.api.download_payslip?name=${encodeURIComponent(e)}`,generatePayroll:(e,a)=>g("arijentek_core.api.generate_payroll",{month:e,year:a})};export{x as a,R as d,C as l,O as p};
