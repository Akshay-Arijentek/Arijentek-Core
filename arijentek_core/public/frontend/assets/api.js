var f=Object.defineProperty,y=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var k=(e,a,t)=>a in e?f(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,_=(e,a)=>{for(var t in a||(a={}))S.call(a,t)&&k(e,t,a[t]);if(m)for(var t of m(a))w.call(a,t)&&k(e,t,a[t]);return e},h=(e,a)=>y(e,v(a));var j=(e,a,t)=>new Promise((d,s)=>{var p=n=>{try{i(t.next(n))}catch(r){s(r)}},c=n=>{try{i(t.throw(n))}catch(r){s(r)}},i=n=>n.done?d(n.value):Promise.resolve(n.value).then(p,c);i((t=t.apply(e,a)).next())});import{u as A}from"./main.js";const T="/api/method";function u(t){return j(this,arguments,function*(e,a={}){const d=A(),s={"Content-Type":"application/json",Accept:"application/json"},p=d.csrfToken||window.csrf_token;p&&a.method&&a.method!=="GET"&&(s["X-Frappe-CSRF-Token"]=p);const c=yield fetch(`${T}/${e}`,h(_({},a),{headers:_(_({},s),a.headers||{}),credentials:"include"}));if(!c.ok){const n=yield c.json().catch(()=>({}));let r="Request failed";if(n._server_messages)try{const l=JSON.parse(n._server_messages);r=JSON.parse(l[0]).message||r}catch(l){}else n.exception&&(r=n.exception);throw new Error(r)}const i=yield c.json();return i.message!==void 0?i.message:i})}function o(e){return u(e,{method:"GET"})}function g(e,a){return u(e,{method:"POST",body:a?JSON.stringify(a):void 0})}const R={getData:()=>o("arijentek_core.api.get_dashboard_data"),getEmployeeInfo:()=>o("arijentek_core.api.get_employee_info"),getReportingInfo:()=>o("arijentek_core.api.get_reporting_info")},C={punch:()=>g("arijentek_core.api.punch"),getTodayCheckin:()=>o("arijentek_core.api.get_today_checkin"),getStatus:()=>o("arijentek_core.api.v1.attendance.get_status"),getSummary:()=>o("arijentek_core.api.get_attendance_summary"),getRecords:(e,a)=>o(`arijentek_core.api.v1.attendance.get_attendance_records${e&&a?`?month=${e}&year=${a}`:""}`)},O={getTypes:()=>o("arijentek_core.api.get_leave_types"),getBalance:()=>o("arijentek_core.api.get_leave_balance"),getApplications:()=>o("arijentek_core.api.get_leave_applications"),apply:e=>g("arijentek_core.api.apply_leave",e),cancel:e=>g("arijentek_core.api.cancel_leave",{leave_application:e})},b={getSlips:()=>o("arijentek_core.api.get_salary_slips"),getDownloadUrl:e=>`/api/method/arijentek_core.api.download_payslip?name=${encodeURIComponent(e)}`};export{C as a,R as d,O as l,b as p};
